<div class="min-h-screen flex items-center justify-center bg-background dark:bg-black">
  <div class="bg-card dark:bg-card rounded-lg shadow-lg p-8 w-full max-w-md">
    <h2 class="text-2xl font-semibold text-primary text-center mb-6">Login</h2>
    <form (ngSubmit)="onLogin()" class="space-y-4">
      <div>
        <label for="username" class="block text-sm font-medium text-primary">Username:</label>
        <input
          type="text"
          id="username"
          [(ngModel)]="email"
          name="username"
          placeholder="Enter your username"
          class="w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring focus:ring-primary dark:focus:ring-primary ring ring-transparent bg-input dark:bg-input text-primary dark:text-primary"
          aria-label="Username"
          required
        />
      </div>
      <div class="relative">
        <label for="password" class="block text-sm font-medium text-primary">Password:</label>
        <input
          [type]="passwordFieldType"
          id="password"
          [(ngModel)]="password"
          name="password"
          placeholder="Enter your password"
          class="w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring focus:ring-primary dark:focus:ring-primary ring ring-transparent bg-input dark:bg-input text-primary dark:text-primary"
          aria-label="Password"
          required
        />
        <button type="button" (click)="togglePasswordVisibility()" class="absolute inset-y-0 right-3 flex items-center">
          <svg *ngIf="passwordFieldType === 'password'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600 dark:text-gray-400">
            <path d="M12 4C7 4 3.4 6.3 2 9c1.4 2.7 5 5 10 5s8.6-2.3 10-5c-1.4-2.7-5-5-10-5zm0 8c-3 0-5.6-1.5-7-3.7C6 7 8.4 5 12 5c3 0 5.6 1.5 7 3.7-1.4 2.2-4 3.7-7 3.7zm0 0" />
          </svg>
          <svg *ngIf="passwordFieldType === 'text'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600 dark:text-gray-400">
            <path d="M12 4C7 4 3.4 6.3 2 9c1.4 2.7 5 5 10 5s8.6-2.3 10-5c-1.4-2.7-5-5-10-5zm0 8c-3 0-5.6-1.5-7-3.7C6 7 8.4 5 12 5c3 0 5.6 1.5 7 3.7-1.4 2.2-4 3.7-7 3.7zm0 0" />
          </svg>
        </button>
      </div>

      <!-- Loading Spinner (Visible when isLoading is true) -->
      <div *ngIf="isLoading" class="text-center text-primary">
        <div class="loader"></div> <!-- You can replace this with a CSS spinner -->
      </div>

      <!-- Error message displayed if there's an error -->
      <p *ngIf="errorMessage" class="text-red-500 mt-2 transition-all duration-300 ease-in-out">{{ errorMessage }}</p>
      
      <button type="submit" 
              [disabled]="isLoading" 
              class="w-full bg-primary text-primary-foreground hover:bg-primary/80 hover:text-primary p-3 rounded-lg transition-colors duration-300">
        Login
      </button>
      
       <!-- Register link -->
       <div class="text-center mt-4"> 
        <p class="text-sm text-gray-500">Don't have an account?</p>
        <button 
          class="text-primary hover:text-primary/80 border-none bg-none cursor-pointer"
          (click)="navigateToRegister()">
          Register here
        </button>
      </div>      
    </form>
  </div>
</div>
